<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>EyeMind Web Tool</title>
  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  >
  <!-- Our custom styles -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <ul class="nav nav-tabs" id="tabs">
      <li class="nav-item">
        <a class="nav-link active" data-bs-target="#risk" data-bs-toggle="tab">
          1. Risk
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" data-bs-target="#gaze" data-bs-toggle="tab">
          2. Gaze
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" data-bs-target="#dce" data-bs-toggle="tab">
          3. DCE
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link disabled" data-bs-target="#rec" data-bs-toggle="tab">
          4. Rec
        </a>
      </li>
    </ul>

    <div class="tab-content">
      <!-- RISK -->
      <div class="tab-pane fade show active" id="risk">
        <h4>Loneliness Risk Screener</h4>
        <form id="risk-form">
          <div class="mb-3">
            <label for="q1">1. How often do you feel left out?</label>
            <select id="q1" class="form-select">
              <option value="0">Never</option>
              <option value="1">Sometimes</option>
              <option value="2">Often</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="q2">2. How often do you lack companionship?</label>
            <select id="q2" class="form-select">
              <option value="0">Never</option>
              <option value="1">Sometimes</option>
              <option value="2">Often</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="q3">3. How often do you feel isolated?</label>
            <select id="q3" class="form-select">
              <option value="0">Never</option>
              <option value="1">Sometimes</option>
              <option value="2">Often</option>
            </select>
          </div>
          <button type="submit" class="btn btn-primary">Calculate Risk</button>
        </form>
        <div id="risk-result" class="mt-3"></div>
      </div>

      <!-- GAZE -->
      <div class="tab-pane fade" id="gaze">
        <h4>Gaze Engagement Calibration & Reading</h4>
        <p>Click each corner dot to calibrate.</p>
        <div id="cal-area">
          <div id="cp0" class="cal-point"></div>
          <div id="cp1" class="cal-point"></div>
          <div id="cp2" class="cal-point"></div>
          <div id="cp3" class="cal-point"></div>
        </div>
        <button id="start-read" class="btn btn-success mt-3 hidden">
          Start Reading
        </button>

        <div id="slide-content" class="hidden">
          <!-- Slide 1 -->
          <div class="slide">
            <h5>Characteristic 1: Type of support</h5>
            <ul>
              <li><strong>Peer support</strong> – mutual help among peers.</li>
              <li><strong>Community engagement</strong> – local clubs, volunteering.</li>
              <li><strong>Counselling</strong> – professional therapy support.</li>
              <li><strong>Virtual reality</strong> – immersive VR social worlds.</li>
            </ul>
          </div>
          <!-- Slide 2 -->
          <div class="slide hidden">
            <h5>Characteristic 2: Interaction method</h5>
            <ul>
              <li>In‑person</li>
              <li>Virtual</li>
              <li>Hybrid</li>
            </ul>
          </div>
          <!-- Slide 3 -->
          <div class="slide hidden">
            <h5>Characteristic 3: Frequency</h5>
            <ul>
              <li>Daily</li>
              <li>Weekly</li>
              <li>Monthly</li>
            </ul>
          </div>
          <!-- Slide 4 -->
          <div class="slide hidden">
            <h5>Characteristic 4: Duration</h5>
            <ul>
              <li>30 minutes</li>
              <li>2 hours</li>
              <li>4 hours</li>
            </ul>
          </div>
          <!-- Slide 5 -->
          <div class="slide hidden">
            <h5>Characteristic 5: Accessibility</h5>
            <ul>
              <li>At home</li>
              <li>Local area (≤12 km)</li>
              <li>Wider community (≥50 km)</li>
            </ul>
          </div>
          <!-- Slide 6 -->
          <div class="slide hidden">
            <h5>Characteristic 6: Cost</h5>
            <ul>
              <li>Free</li>
              <li>A$ 5/session</li>
              <li>A$ 20/session</li>
              <li>A$ 50/session</li>
            </ul>
          </div>
        </div>
        <div id="slide-controls" class="hidden">
          <button id="prev-slide" class="btn btn-secondary">Prev</button>
          <button id="next-slide" class="btn btn-secondary">Next</button>
          <button id="finish-read" class="btn btn-primary hidden">
            Done Reading
          </button>
        </div>
      </div>

      <!-- DCE -->
      <div class="tab-pane fade" id="dce">
        <h4>Support Program Discrete Choice</h4>
        <form id="dce-form">
          <div id="task-container"></div>
          <button type="submit" class="btn btn-primary mt-3">
            Submit Choices
          </button>
        </form>
      </div>

      <!-- RECOMMENDATIONS -->
      <div class="tab-pane fade" id="rec">
        <h4>Your Personalized Recommendations</h4>
        <div id="rec-content"></div>
        <p class="mt-3">
          <em>
            “AI” here means our simple algorithmic engine combining your
            risk score, gaze data, and DCE preferences to tailor guidance.
          </em>
        </p>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS bundle -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
  ></script>
  <!-- WebGazer for eye tracking -->
  <script src="https://webgazer.cs.brown.edu/webgazer.js"></script>
  <!-- Our application logic -->
  <script src="app.js" defer></script>
</body>
</html>
